{% extends 'base.html' %}
{% load i18n %}

{% block content %}
<div class="row">
    <!-- Боковое меню -->
    <div class="col-md-3">
        <div class="list-group shadow-sm">
            {% for topic in topics %}
            <a href="{% url 'topic' topic.id %}"
               class="list-group-item list-group-item-action {% if topic.id == current_topic.id %}active{% endif %}">
                {{ topic.title }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- Контент -->
    <div class="col-md-9">
        <div class="card shadow-sm border-0">
            <div class="card-body">
                <h3>{{ current_topic.title }}</h3>
                <p>{{ current_topic.content|safe }}</p>

                {% if current_topic.test %}
                <div class="mt-4 text-end">
                    <a href="{% url 'take_test' current_topic.test.id %}" class="btn btn-primary">
                        {% trans "Перейти к тесту" %}
                    </a>
                </div>
                {% else %}
                <div class="mt-4 text-muted">
                    {% trans "Тест к этой теме пока недоступен." %}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
